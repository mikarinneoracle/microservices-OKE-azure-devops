CREATE TABLE "PRICE" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"TIER" VARCHAR2(200 BYTE), 
	"PRICE_MO" NUMBER, 
	"USERS" NUMBER, 
	"STORAGE" NUMBER, 
	"SUPPORT" VARCHAR2(1000 BYTE)
   );

CREATE UNIQUE INDEX "PRICE_PK" ON "PRICE" ("ID");

CREATE UNIQUE INDEX "PRICE_CON_TIER_UNIQUE" ON "PRICE" ("TIER");

ALTER TABLE "PRICE" MODIFY ("TIER" NOT NULL ENABLE);

ALTER TABLE "PRICE" ADD CONSTRAINT "PRICE_PK" PRIMARY KEY ("ID") USING INDEX  ENABLE;

ALTER TABLE "PRICE" ADD CONSTRAINT "PRICE_CON_TIER_UNIQUE" UNIQUE ("TIER") USING INDEX  ENABLE;

CREATE TABLE "OPTIONS" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"TIER" VARCHAR2(200 BYTE), 
	"ISPUBLIC" VARCHAR2(1 BYTE), 
	"ISPRIVATE" VARCHAR2(1 BYTE), 
	"ISPERMISSIONS" VARCHAR2(1 BYTE), 
	"ISSHARING" VARCHAR2(1 BYTE), 
	"ISUNLIMITED" VARCHAR2(1 BYTE), 
	"ISEXTRASEC" VARCHAR2(1 BYTE)
   );

CREATE UNIQUE INDEX "OPTIONS_PK" ON "OPTIONS" ("ID");

ALTER TABLE "OPTIONS" MODIFY ("TIER" NOT NULL ENABLE);

ALTER TABLE "OPTIONS" ADD CONSTRAINT "OPTIONS_PK" PRIMARY KEY ("ID") USING INDEX  ENABLE;

ALTER TABLE "OPTIONS" ADD CONSTRAINT "OPTIONS_FK" FOREIGN KEY ("TIER") REFERENCES "PRICE" ("TIER") ENABLE;

GRANT ALL ON PRICE to SYSTEM;

GRANT ALL ON OPTIONS to SYSTEM;

INSERT INTO PRICE (TIER, PRICE_MO, USERS, STORAGE, SUPPORT) VALUES ("FREE", "0", "5", "10", "Email Support");
INSERT INTO PRICE (TIER, PRICE_MO, USERS, STORAGE, SUPPORT) VALUES ("PRO", "10", "15", "200", "Priority Email Support");
INSERT INTO PRICE (TIER, PRICE_MO, USERS, STORAGE, SUPPORT) VALUES ("ENTERPRISE", "200", "Unlimited", "5000", "Phone and Email Support");

SELECT price_mo, users, storage, support FROM SYSDBA.price WHERE tier = 'FREE';

